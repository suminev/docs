# Как подключиться по SSH от root с паролем или ключом


## Описание сценария {#case-description}

Необходимо подключиться по SSH от root с паролем или ключом. 

## Решение {#case-resolution}

{% list tabs %}

- Подключение с ключом

    Для подключения по SSH с ключом необходимо убедиться, что файл `/root/.ssh/autorized_keys` содержит только ключ. Все, что перед ключом, нужно удалить.

- Подключение с паролем

    Для подключения по SSH с паролем нужно:

    1. Создать пароль для root командой `sudo passwd root`.

    2. Файл `/root/.ssh/autorized_keys` должен быть пустым либо содержать только ключ. Если ключ не подходит, то файл запросит пароль.

    3. Файл `/etc/ssh/sshd_config.d/50-cloud-init.conf` должен содержать:

     ```
    PasswordAuthentication yes
    PermitRootLogin yes
    ```

{% endlist %}