# Публичный доступ

Вы можете предоставить публичный доступ к созданным чартам и дашбордам: любой пользователь может просмотреть опубликованный объект без авторизации. При этом пользователь не может посмотреть настройки чарта, подключения, датасет или выполнить произвольный SQL-запрос.

{% include [share-note](../../_includes/datalens/datalens-share-note.md) %}

## Правила публикации {#rules}

Перед публикацией данных убедитесь, что:

* У вас есть право доступа `{{ permission-admin }}` на публикуемые чарты, дашборды и связанные с ними объекты.
* Ваши чарты и дашборды не содержат персональных данных или коммерческой тайны. Доступ к опубликованным данным неограничен.
* Подключение, поверх которого построены объекты, поддерживает публикацию данных. Нельзя публиковать данные из следующих подключений:

  * [Google BigQuery](../operations/connection/create-big-query.md)
  * [Snowflake](../operations/connection/create-snowflake.md)
  * [Metrica](../operations/connection/create-metrica-api.md)
  * [AppMetrica](../operations/connection/create-appmetrica.md)

    {% note info %}

    Дашбордом или чартом на основе данных Метрики или AppMetrica можно [поделиться](#metrica-share).

    {% endnote %}

Чтобы обезопасить опубликованные данные, рекомендуем:

* При создании подключения к БД предоставлять пользователю право просмотра только на таблицы, которые используются для построения датасета.
* Оставлять в датасете минимум данных и добавлять только необходимые фильтры на дашборд. Данные на публичном дашборде можно скачать в машиночитаемом формате.

## Как опубликовать объект {#how-to-publish}

{% list tabs %}

- Дашборд

  {% include [datalens-public-dashboard](../../_includes/datalens/operations/datalens-public-dashboard.md) %}

- Чарт

  {% include [datalens-public-chart](../../_includes/datalens/operations/datalens-public-chart.md) %}

{% endlist %}

## Поделиться чартом на основе данных Метрики или AppMetrica {#metrica-share}

Чтобы поделиться чартом или дашбордом, содержащим данные Метрики или AppMetrica, воспользуйтесь одним из способов:

{% include [datalens-metrica-appmetrica-share](../../_includes/datalens/datalens-metrica-appmetrica-share.md) %}

## Встраивание публичных объектов {#embedded-public-chart}

Вы можете [встроить](../dashboard/embedded-objects.md) опубликованные дашборды и чарты на сайт или в приложение с помощью элемента `iframe`.

### Получить код для вставки {#get-code}

Чтобы получить код для вставки с заданным оформлением дашборда или чарта:

1. [Опубликуйте](#how-to-publish) дашборд или чарт.
1. Откройте дашборд или чарт по полученной публичной ссылке.
1. В правом верхнем углу нажмите значок ![image](../../_assets/console-icons/arrow-shape-turn-up-right.svg) и выберите ![image](../../_assets/console-icons/code.svg) **Код для вставки**.
1. В открывшемся окне настройте язык, тему, отображение меню. В правой части окна скопируйте ссылку или код для вставки с заданными параметрами оформления.

### Фильтрация встроенных чартов {#filtering-embedded-charts}

К встроенным чартам можно применить фильтрацию. Для этого передайте параметры фильтрации в ссылке на чарт.

Чтобы задать параметры фильтрации:

1. Добавьте чарт и селектор на дашборд.
1. [Опубликуйте](#how-to-publish) дашборд.
1. Задайте нужные значения селектора.
1. У чарта на дашборде нажмите значок ![image](../../_assets/console-icons/ellipsis.svg) и выберите ![image](../../_assets/console-icons/code.svg) **Код для вставки**.
1. В открывшемся окне настройте язык, тему, отображение меню. В правой части окна скопируйте ссылку или код для вставки с заданными параметрами оформления и параметрами фильтрации.

Параметры фильтрации добавятся к адресу чарта после знака вопроса `?`. При передаче более одного параметра, они будут перечислены через знак амперсанда `&`.

```
<iframe frameborder="0" src="https://datalens.yandex/z2uxl5pbztkep?shopid_vj2j=sp-15&shopid_vj2j=sp-18&shopid_vj2j=sp-20&_embedded=1&_no_controls=1&_theme=light&_lang=ru" width="100%" height="400px"></iframe>
```

{% include [clickhouse-disclaimer](../../_includes/clickhouse-disclaimer.md) %}
