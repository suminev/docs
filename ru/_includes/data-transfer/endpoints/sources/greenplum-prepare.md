{% note info %}

{% include [matview limits](../../../../_includes/data-transfer/pg-gp-matview.md) %}

{% endnote %}

{% list tabs %}


- {{ mgp-name }}
    
    1. Создайте пользователя, от имени которого трансфер подключится к источнику. Для этого выполните команду:
    
        ```pgsql
        CREATE ROLE <имя_пользователя> LOGIN ENCRYPTED PASSWORD '<пароль>';
        ```
    
    1. Настройте кластер-источник так, чтобы созданный пользователь мог подключаться ко всем [хостам-мастерам](../../../../managed-greenplum/concepts/index.md) кластера.
    
    1. Если предполагается использовать [параллельное копирование](../../../../data-transfer/concepts/sharded.md), настройте кластер-источник так, чтобы созданный пользователь мог подключаться ко всем [хостам-сегментам](../../../../managed-greenplum/concepts/index.md) кластера в режиме прямого доступа (utility mode). Для этого убедитесь, что для кластера включена настройка "Доступ из {{ data-transfer-name }}".
    
    1. Выдайте созданному пользователю привилегию на выполнение операции `SELECT` над таблицами, которые переносит трансфер, и привилегию `USAGE` на схемы, в которых находятся эти таблицы.
    
       Привилегии должны быть выданы на таблицы целиком, доступ только к части столбцов таблицы не поддерживается.
    
       Таблицы, для которых не выданы необходимые привилегии, недоступны для {{ data-transfer-name }}. Эти таблицы обрабатываются так же, как если бы они отсутствовали.
    
       В этом примере привилегии выдаются на все таблицы в выбранной схеме:
    
        ```pgsql
        GRANT SELECT ON ALL TABLES IN SCHEMA <название_схемы> TO <имя_пользователя>;
        GRANT USAGE ON SCHEMA <название_схемы> TO <имя_пользователя>;
        ```


- {{ GP }}
    
    1. {% include notitle [White IP list](../../../../_includes/data-transfer/configure-white-ip.md) %}
    
    1. Создайте пользователя, от имени которого трансфер подключится к источнику. Для этого выполните команду:
    
        ```pgsql
        CREATE ROLE <имя_пользователя> LOGIN ENCRYPTED PASSWORD '<пароль>';
        ```
    
    1. Настройте кластер-источник так, чтобы созданный пользователь мог подключаться ко всем [хостам-мастерам](../../../../managed-greenplum/concepts/index.md) кластера.
    
    1. Если предполагается использовать [параллельное копирование](../../../../data-transfer/concepts/sharded.md), настройте кластер-источник так, чтобы созданный пользователь мог подключаться ко всем [хостам-сегментам](../../../../managed-greenplum/concepts/index.md) кластера в режиме прямого доступа (utility mode).
    
    1. Выдайте созданному пользователю привилегию на выполнение операции `SELECT` над таблицами, которые переносит трансфер, и привилегию `USAGE` на схемы, в которых находятся эти таблицы.
    
       Привилегии должны быть выданы на таблицы целиком, доступ только к части столбцов таблицы не поддерживается.
    
       Таблицы, для которых не выданы необходимые привилегии, недоступны для {{ data-transfer-name }}. Эти таблицы обрабатываются так же, как если бы они отсутствовали.
    
       В этом примере привилегии выдаются на все таблицы базы данных:
    
        ```pgsql
        GRANT SELECT ON ALL TABLES IN SCHEMA <название_схемы> TO <имя_пользователя>;
        GRANT USAGE ON SCHEMA <название_схемы> TO <имя_пользователя>;
        ```

{% endlist %}

{{ data-transfer-name }} взаимодействует с {{ GP }} по-разному в зависимости от настроек трансфера и содержимого кластера-источника. Подробная информация доступна в разделе [настройка эндпоинта-источника {{ GP }}](../../../../data-transfer/operations/endpoint/source/greenplum.md).